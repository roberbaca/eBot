window.__require=function t(e,o,i){function n(c,l){if(!o[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var a="function"==typeof __require&&__require;if(!l&&a)return a(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var h=o[c]={exports:{}};e[c][0].call(h.exports,function(t){return n(e[c][1][t]||t)},h,h.exports,t,e,o,i)}return o[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({GameController:[function(t,e,o){"use strict";cc._RF.push(e,"02d6fUsVtpB3LJkhpGcdkWy","GameController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,c=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(s<3?n(c):s>3?n(e,o,c):n(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,r=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PlayerPrefab=null,e.startDoor=null,e.exitDoor=null,e.slideDoorSound=null,e.newOnlineSound=null,e.music=null,e.levelText=null,e.levelCompletedLabel=null,e.BlackBackground=null,e.BlackLabel=null,e.createAnewOne=!1,e.isLevelCompleted=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=cc.director.getCollisionManager();t.enabled=!0,t.enabledDebugDraw=!1,this.BlackBackground.node.active=!1,this.BlackLabel.node.active=!1,this.levelCompletedLabel.node.active=!1},e.prototype.start=function(){this.isLevelCompleted=!1,this.startPosX=this.startDoor.node.position.x,this.startPosY=this.startDoor.node.position.y,this.newClone()},e.prototype.update=function(){this.createAnewOne&&(this.schedule(this.newClone,2,0),this.createAnewOne=!1)},e.prototype.newClone=function(){this.startDoor.getComponent(cc.Animation).play();var t=cc.instantiate(this.PlayerPrefab);t.setPosition(this.startPosX,this.startPosY),this.node.getChildByName("player").addChild(t),this.newOnlineSound.play()},e.prototype.endLevel=function(){this.isLevelCompleted=!0,this.exitDoor.getComponent(cc.Animation).play(),this.slideDoorSound.play(),this.BlackBackground.node.active=!0,this.BlackLabel.node.active=!0,this.levelCompletedLabel.node.active=!0,this.schedule(this.nextLevel,3,0)},e.prototype.nextLevel=function(){"level2"==this.levelText.string&&cc.director.loadScene("Level2"),"level3"==this.levelText.string&&cc.director.loadScene("Level3"),"level4"==this.levelText.string&&cc.director.loadScene("TheEnd")},s([r(cc.Prefab)],e.prototype,"PlayerPrefab",void 0),s([r(cc.Sprite)],e.prototype,"startDoor",void 0),s([r(cc.Sprite)],e.prototype,"exitDoor",void 0),s([r(cc.AudioSource)],e.prototype,"slideDoorSound",void 0),s([r(cc.AudioSource)],e.prototype,"newOnlineSound",void 0),s([r(cc.AudioClip)],e.prototype,"music",void 0),s([r(cc.Label)],e.prototype,"levelText",void 0),s([r(cc.RichText)],e.prototype,"levelCompletedLabel",void 0),s([r(cc.Sprite)],e.prototype,"BlackBackground",void 0),s([r(cc.Sprite)],e.prototype,"BlackLabel",void 0),s([l],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],MainMenu:[function(t,e,o){"use strict";cc._RF.push(e,"50c7aAmE1tLGbkKA0WNk/na","MainMenu");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,c=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(s<3?n(c):s>3?n(e,o,c):n(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,r=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e}return n(e,t),e.prototype.onLoad=function(){cc.director.preloadScene("Level1"),this.btnStart=this.node.getChildByName("PlayBtn").getComponent(cc.Button),this.btnStart.node.on(cc.Node.EventType.TOUCH_END,this.touchStartBtn,this)},e.prototype.start=function(){},e.prototype.touchStartBtn=function(){cc.director.loadScene("Level1")},s([l],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"ba354DQcstN6ry5ZGhwceTt","Player");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,c=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,i);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(s<3?n(c):s>3?n(e,o,c):n(e,o))||c);return s>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,l=c.ccclass,r=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLeft=!1,e.isRight=!1,e.isDown=!1,e.isUp=!1,e.lookLeft=!1,e.lookRight=!1,e.lookDown=!0,e.lookUp=!1,e.canMoveRight=!0,e.canMoveLeft=!0,e.canMoveUp=!0,e.canMoveDown=!0,e.canMove=!0,e.velocityX=0,e.velocityY=0,e.maxVel=4,e.acc=2,e.isYellowKey=!1,e.isPotion=!1,e.gameController=null,e.isGameOver=!1,e.destroyEnemy=!1,e.isShutDown=!1,e.isOriginal=!0,e.isExploding=!1,e.finished=!1,e.explosionSound=null,e.powerOffSound=null,e}return n(e,t),e.prototype.movePlayer=function(t){switch(t.keyCode){case cc.macro.KEY.left:this.isLeft=!0,this.lookLeft=!0,this.lookRight=!1,this.lookUp=!1,this.lookDown=!1;break;case cc.macro.KEY.right:this.isRight=!0,this.lookLeft=!1,this.lookRight=!0,this.lookUp=!1,this.lookDown=!1;break;case cc.macro.KEY.up:this.isUp=!0,this.lookLeft=!1,this.lookRight=!1,this.lookUp=!0,this.lookDown=!1;break;case cc.macro.KEY.down:this.isDown=!0,this.lookLeft=!1,this.lookRight=!1,this.lookUp=!1,this.lookDown=!0;break;case cc.macro.KEY.ctrl:this.isExploding=!0;break;case cc.macro.KEY.s:this.isShutDown=!0}},e.prototype.stopPlayer=function(t){switch(t.keyCode){case cc.macro.KEY.left:this.isLeft=!1;break;case cc.macro.KEY.right:this.isRight=!1;break;case cc.macro.KEY.up:this.isUp=!1;break;case cc.macro.KEY.down:this.isDown=!1}},e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.movePlayer,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.stopPlayer,this),this.gameController=cc.Canvas.instance.node.getComponent("GameController"),this.walkLeftAnimation=this.getComponent(cc.Animation).getAnimationState("walkLeft"),this.walkRightAnimation=this.getComponent(cc.Animation).getAnimationState("walkRight"),this.idleAnimation=this.getComponent(cc.Animation).getAnimationState("idle"),this.shutDownAnimation=this.getComponent(cc.Animation).getAnimationState("shutDown"),this.shuttedAnimation=this.getComponent(cc.Animation).getAnimationState("shutted"),this.explodenAnimation=this.getComponent(cc.Animation).getAnimationState("explode")},e.prototype.start=function(){this.originX=this.node.position.x,this.originY=this.node.position.y,this.isShutDown=!1},e.prototype.update=function(){this.isShutDown&&(this.shuttedAnimation.isPlaying||this.shutDownAnimation.play(),this.powerOffSound.play(),this.gameController.newClone(),this.isOriginal=!1,this.isShutDown=!1),this.isExploding&&this.isOriginal&&(this.gameController.createAnewOne=!0,this.schedule(this.explodeCountdown,2.7,0),this.explodenAnimation.play(),this.isExploding=!1),this.velocityX<=-this.maxVel&&(this.velocityX=-this.maxVel),this.velocityX>=this.maxVel&&(this.velocityX=this.maxVel),this.velocityY<=-this.maxVel&&(this.velocityY=-this.maxVel),this.velocityY>=this.maxVel&&(this.velocityY=this.maxVel),this.gameController.isLevelCompleted||!this.isOriginal||this.isExploding||this.isShutDown||this.explodenAnimation.isPlaying||(this.isLeft&&this.canMoveLeft?(this.node.setPosition(this.node.position.x+=this.velocityX,this.node.position.y),this.velocityX-=this.acc,this.velocityY=0,this.walkLeftAnimation.play()):this.isRight&&this.canMoveRight?(this.node.setPosition(this.node.position.x+=this.velocityX,this.node.position.y),this.velocityX+=this.acc,this.velocityY=0,this.walkRightAnimation.play()):this.isUp&&this.canMoveUp||this.isDown&&this.canMoveDown||this.isLeft||this.isRight||this.idleAnimation.play()),this.isShutDown||this.isOriginal||this.isExploding||this.shutDownAnimation.isPlaying||this.shuttedAnimation.play()},e.prototype.onCollisionEnter=function(t){"exit<BoxCollider>"==t.name&&(this.schedule(this.ending,.7,0),cc.log("THE END")),"bloque<BoxCollider>"==t.name&&this.isRight&&(this.canMoveRight=!1),"bloque<BoxCollider>"==t.name&&this.isLeft&&(this.canMoveLeft=!1),"bloque<BoxCollider>"==t.name&&this.isDown&&(this.canMoveDown=!1),"bloque<BoxCollider>"==t.name&&this.isUp&&(this.canMoveUp=!1),"obstacle copy<BoxCollider>"==t.name&&this.isRight&&(this.canMoveRight=!1),"obstacle copy<BoxCollider>"==t.name&&this.isLeft&&(this.canMoveLeft=!1),"obstacle copy<BoxCollider>"==t.name&&this.isDown&&(this.canMoveDown=!1),"obstacle copy<BoxCollider>"==t.name&&this.isUp&&(this.canMoveUp=!1),"player<BoxCollider>"==t.name&&this.isRight&&(this.canMoveRight=!1),"player<BoxCollider>"==t.name&&this.isLeft&&(this.canMoveLeft=!1),"player<BoxCollider>"==t.name&&this.isDown&&(this.canMoveDown=!1),"player<BoxCollider>"==t.name&&this.isUp&&(this.canMoveUp=!1)},e.prototype.onCollisionExit=function(t){"obstacle copy<BoxCollider>"!=t.name&&"player<BoxCollider>"!=t.name&&"bloque<BoxCollider>"!=t.name||(this.canMoveRight=!0,this.canMoveLeft=!0,this.canMoveUp=!0,this.canMoveDown=!0),"obstacle2<BoxCollider>"==t.name&&t.node.destroy()},e.prototype.onCollisionStay=function(t){"player<BoxCollider>"!=t.name&&"bloque<BoxCollider>"!=t.name||this.finished&&(t.node.destroy(),this.explosionSound.play(),this.finished=!1),"obstacle2<BoxCollider>"==t.name&&(this.node.setPosition(this.node.position.x,this.node.position.y+=this.velocityY),this.velocityY-=this.acc,this.velocityX=0),"obstacle3<BoxCollider>"==t.name&&(this.node.setPosition(this.node.position.x,this.node.position.y+=this.velocityY),this.velocityY-=this.acc,this.velocityX=0)},e.prototype.onExplosionEnd=function(){this.finished=!0},e.prototype.ending=function(){this.gameController.endLevel()},e.prototype.explodeCountdown=function(){this.isExploding=!1,this.explosionSound.play(),this.node.destroy()},s([r(cc.AudioSource)],e.prototype,"explosionSound",void 0),s([r(cc.AudioSource)],e.prototype,"powerOffSound",void 0),s([l],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["GameController","MainMenu","Player"]);