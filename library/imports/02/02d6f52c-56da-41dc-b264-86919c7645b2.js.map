{"version":3,"sources":["assets\\Script\\GameController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAI1C;IAA4C,kCAAY;IAAxD;QAAA,qEAoHC;QAlHG,gBAAgB;QAEhB,kBAAY,GAAc,IAAI,CAAC;QAK/B,UAAU;QAEV,eAAS,GAAc,IAAI,CAAC;QAG5B,cAAQ,GAAc,IAAI,CAAC;QAG3B,YAAY;QAEZ,oBAAc,GAAmB,IAAI,CAAC;QAGtC,oBAAc,GAAmB,IAAI,CAAC;QAGtC,WAAK,GAAiB,IAAI,CAAC;QAG3B,eAAS,GAAa,IAAI,CAAC;QAG3B,yBAAyB;QAEzB,yBAAmB,GAAgB,IAAI,CAAC;QAGxC,qBAAe,GAAc,IAAI,CAAC;QAGlC,gBAAU,GAAc,IAAI,CAAC;QAE7B,mBAAa,GAAY,KAAK,CAAC;QAE/B,sBAAgB,GAAY,KAAK,CAAC;;IAyEtC,CAAC;IAvEG,+BAAM,GAAN;QAGG,qCAAqC;QACpC,IAAI,gBAAgB,GAAG,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC;QACzD,gBAAgB,CAAC,OAAO,GAAG,IAAI,CAAC;QAEhC,aAAa;QACb,gBAAgB,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAE1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACjD,CAAC;IAED,8BAAK,GAAL;QAEI,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAED,+BAAM,GAAN,UAAQ,EAAE;QAEP,IAAI,IAAI,CAAC,aAAa,EACtB;YACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;SAC9B;IAEJ,CAAC;IAGF,iCAAQ,GAAR;QAEC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;QACjD,IAAI,SAAS,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAClD,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;QACvD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;IAC/B,CAAC;IAGD,iCAAQ,GAAR;QAEI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,CAAC;QAChD,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,kCAAS,GAAT;QAEI,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,QAAQ,EACrC;YACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,QAAQ,EACrC;YACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,QAAQ,EACrC;YACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;SACnC;IACL,CAAC;IA9GG;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;wDACW;IAO/B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;qDACQ;IAG5B;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;oDACO;IAK3B;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;0DACa;IAGtC;QADC,QAAQ,CAAC,EAAE,CAAC,WAAW,CAAC;0DACa;IAGtC;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;iDACI;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;qDACQ;IAK3B;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;+DACkB;IAGxC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;2DACc;IAGlC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;sDACS;IAvCZ,cAAc;QADlC,OAAO;OACa,cAAc,CAoHlC;IAAD,qBAAC;CApHD,AAoHC,CApH2C,EAAE,CAAC,SAAS,GAoHvD;kBApHoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n\r\n@ccclass\r\nexport default class GameController extends cc.Component \r\n{    \r\n    // PLAYER PREFAB\r\n    @property(cc.Prefab)\r\n    PlayerPrefab:cc.Prefab  = null;\r\n\r\n    startPosX: number;\r\n    startPosY: number;\r\n\r\n    // OBJECTS\r\n    @property(cc.Sprite)\r\n    startDoor:cc.Sprite  = null;\r\n\r\n    @property(cc.Sprite)\r\n    exitDoor:cc.Sprite  = null;\r\n\r\n\r\n    // AUDIO SFX\r\n    @property(cc.AudioSource)\r\n    slideDoorSound:cc.AudioSource  = null;\r\n\r\n    @property(cc.AudioSource)\r\n    newOnlineSound: cc.AudioSource = null;\r\n\r\n    @property(cc.AudioClip)\r\n    music: cc.AudioClip = null;\r\n    \r\n    @property(cc.Label)\r\n    levelText: cc.Label = null;    \r\n\r\n\r\n    // LEVEL COMPLETED SCREEN\r\n    @property(cc.RichText)\r\n    levelCompletedLabel: cc.RichText = null; \r\n\r\n    @property(cc.Sprite)\r\n    BlackBackground:cc.Sprite  = null;\r\n\r\n    @property(cc.Sprite)\r\n    BlackLabel:cc.Sprite  = null;\r\n    \r\n    createAnewOne: boolean = false;\r\n\r\n    isLevelCompleted: boolean = false;\r\n\r\n    onLoad () \r\n    {              \r\n       \r\n       // activamos el sistema de Colisiones\r\n        var collisionManager = cc.director.getCollisionManager();\r\n        collisionManager.enabled = true;\r\n         \r\n        // debug draw\r\n        collisionManager.enabledDebugDraw = false;           \r\n       \r\n        this.BlackBackground.node.active = false;\r\n        this.BlackLabel.node.active = false;\r\n        this.levelCompletedLabel.node.active = false;       \r\n    }\r\n\r\n    start () \r\n    {\r\n        this.isLevelCompleted = false;\r\n        this.startPosX = this.startDoor.node.position.x;\r\n        this.startPosY = this.startDoor.node.position.y;\r\n        this.newClone();           \r\n    }\r\n\r\n    update (dt) \r\n    {\r\n       if (this.createAnewOne)\r\n       {\r\n           this.schedule(this.newClone, 2, 0);           \r\n           this.createAnewOne = false;\r\n       }\r\n        \r\n    }\r\n    \r\n\r\n   newClone()\r\n{    \r\n    this.startDoor.getComponent(cc.Animation).play();\r\n    var newPlayer = cc.instantiate(this.PlayerPrefab);       \r\n    newPlayer.setPosition(this.startPosX, this.startPosY);                   \r\n    this.node.getChildByName(\"player\").addChild(newPlayer);  \r\n    this.newOnlineSound.play();   \r\n}\r\n     \r\n\r\nendLevel()\r\n{\r\n    this.isLevelCompleted = true;\r\n    this.exitDoor.getComponent(cc.Animation).play();\r\n    this.slideDoorSound.play();      \r\n    this.BlackBackground.node.active = true;\r\n    this.BlackLabel.node.active = true;\r\n    this.levelCompletedLabel.node.active = true;\r\n    this.schedule(this.nextLevel, 3, 0);\r\n}\r\n  \r\nnextLevel()\r\n{\r\n    if (this.levelText.string == \"level2\")\r\n    {\r\n        cc.director.loadScene('Level2');\r\n    }\r\n    if (this.levelText.string == \"level3\")\r\n    {\r\n        cc.director.loadScene('Level3');\r\n    }\r\n    if (this.levelText.string == \"level4\")\r\n    {\r\n        cc.director.loadScene('TheEnd');\r\n    }\r\n}\r\n\r\n}\r\n"]}